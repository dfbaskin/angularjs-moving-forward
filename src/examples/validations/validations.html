<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>AngularJS Validations</title>
</head>
<body>

    <!--__display__-->
    <div ng-controller="exampleCtrl as vm" class="container">

        <form name="vm.userForm" ng-submit="vm.submitForm()">
            <div class="form-group" ng-class="{'has-error': vm.userForm.userName.$invalid}">
                <label for="userName">User Name</label>
                <input
                        type="text"
                        class="form-control"
                        id="userName" name="userName"
                        placeholder="Enter user name."
                        ng-model="vm.userName"
                        required
                        ng-pattern="/^\w+$/"
                        ng-model-options="{ debounce: 1000 }"
                        user-name-exists>
                <span class="help-block"
                      ng-if="vm.userForm.userName.$error.required">
                    User name is required.
                </span>
                <span class="help-block"
                      ng-if="vm.userForm.userName.$error.pattern">
                    User name must contain only letters and numbers.
                </span>
                <span class="help-block"
                      ng-if="vm.userForm.userName.$error.available">
                    User name already exists.
                </span>
                <span class="help-block"
                      ng-if="vm.userForm.userName.$pending">
                    Searching for existing user name ...
                </span>
            </div>
            <div class="form-group" ng-class="{'has-error': vm.userForm.emailAddr.$invalid}">
                <label for="emailAddr">Email Address</label>
                <input
                        type="email"
                        class="form-control"
                        id="emailAddr" name="emailAddr"
                        placeholder="Enter email address."
                        ng-model="vm.emailAddr"
                        required>
                <span class="help-block"
                      ng-if="vm.userForm.emailAddr.$error.required">
                    Email address is required.
                </span>
                <span class="help-block"
                      ng-if="vm.userForm.emailAddr.$error.email">
                    Email address is not in correct format.
                </span>
            </div>
            <button type="submit" class="btn btn-primary"
                    ng-disabled="!vm.userForm.$valid">
                Submit
            </button>
        </form>

    </div>
    <!--__display__-->

<script src="/jspm_packages/system.js"></script>
<script src="/config.js"></script>
<script>
    System.import('examples/validations/validations');
</script>

</body>
</html>